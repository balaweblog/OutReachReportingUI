 <br><br><br>
 <header><h4 style ="color:white;font-weight: bold;font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif">&nbsp;&nbsp;&nbsp; Search Jobs</h4>
 </header>
  <div *ngIf ="Isprofileset">
 <alert type="warning" dismissible="true" isOpen ="false">
   Your profile is not set. Fill in your profile details before job search.
</alert>
</div>
<mat-accordion class="example-headers-align">
  <mat-expansion-panel class="keep-c-expansion-panel" [expanded]="step === 0">
    <mat-expansion-panel-header>
        <mat-panel-title style="font-weight: bold;color:darkorchid;">Best Matching Available Jobs</mat-panel-title>
    </mat-expansion-panel-header>

<div class="keep-c-input-form">
  <label class="error-message">{{errMessage}}</label>
  <mat-form-field class="input-full-width">
  <mat-chip-list #chipList >
    <mat-chip *ngFor="let fruit of fruits" [selectable]="selectable" [removable]="removable" (removed)="remove(fruit)" >
      {{fruit}}
      <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
    </mat-chip>
    <input placeholder="Job Title" #fruitInput [formControl]="fruitCtrl"  [matAutocomplete]="auto" [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
      [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="add($event)"/>
  </mat-chip-list>
  <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
    <mat-option *ngFor="let fruit of filteredFruits | async" [value]="fruit"> {{ fruit }} </mat-option>
  </mat-autocomplete>
</mat-form-field>


<br>
	 <label>Experience: {{usersearch.experience}} years</label>
   <ion-range-slider #sliderElement min="1" max="30" from={{usersearch.experience}} hide_min_max="true" hide_from_to= "true"
   (onChange)="experienceUpdate($event)"></ion-range-slider>
<br>
	  <label>Salary Expectation: {{usersearch.salaryExpectation}} - {{usersearch.salaryExpectationTo}} lakhs </label>
    <ion-range-slider #sliderElement type="double" min="1" max="30" from={{usersearch.salaryExpectation} to={{usersearch.salaryExpectationTo}} to_min="1" to_max="50"
     hide_min_max="true"hide_from_to= "true" (onChange)="salaryExpectationOnUpdate($event)">
    </ion-range-slider>
<br>
	  <mat-select placeholder="Preferred location" [formControl]="locationControl" multiple  [(ngModel)]='usersearch.location'>
	    <mat-optgroup>
	      <mat-option *ngFor="let location of locationGroups" [value]="location.city">
          {{ location.city }}
	      </mat-option>
	    </mat-optgroup>
	  </mat-select><br>
<br>
      <button mat-raised-button color="primary" (click)="searchJob()" [disabled]="Isprofileset">Submit</button>
  </div>
</mat-expansion-panel>
</mat-accordion>

<virtual-scroll [items]="jobresults" (update)="viewPortItems = $event">
  <mat-list-item *ngFor="let jobresult of viewPortItems">
    <div class="jobliststyle">
      <div style="background-color: #9c27b0;">
        <label style="text-transform: uppercase; color: #ffffff;">{{jobresult.companyname}} </label>
      </div>
      <mat-divider></mat-divider>
     <mat-icon color="warn" class ="materialicons">airplay</mat-icon><span>{{jobresult.role}}</span> <br>
    <mat-icon color="warn" class ="materialicons">note</mat-icon> {{ jobresult.skillset }} <br>
    <mat-icon color="warn" class ="materialicons">work_outline </mat-icon> {{ jobresult.minexperience }} - {{ jobresult.maxexperience }} Years <br>
    <mat-icon color="warn" class ="materialicons">location_on</mat-icon> {{jobresult.location}}  <br>
    <mat-icon color="warn" class ="materialicons">attach_money</mat-icon> Max salary  {{jobresult.maxsalary}} lacs per annum  <br>

    <mat-icon color="warn" class ="materialicons">whatshot </mat-icon> <span> Posted {{ datediff(jobresult.createddate) }}  days ago </span>
    <span style="float:right;">
      <mat-icon  (click)="applyJob(jobresult._id)" color="warn" >arrow_forward</mat-icon></span>
    </div>
    <mat-divider></mat-divider>
  </mat-list-item>
 </virtual-scroll>

  <button mat-mini-fab class="filter" color="primary" [disabled]="filterDisplay">
    <mat-icon>filter_list</mat-icon>
  </button>







